#split_tshirt_webapp.html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>T-shirt Splitter Tool</title>
  <style>
    body { font-family: Arial; text-align: center; padding: 20px; background: #f5f5f5; }
    canvas { margin: 10px; border: 1px solid #ccc; }
    button { padding: 12px 24px; margin: 20px; font-size: 16px; }
  </style>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
  <h1>Smart T-shirt Splitter</h1>
  <input type="file" id="imageUpload" accept="image/*" /><br><br>

  <canvas id="leftCanvas" width="1832" height="2976"></canvas>
  <canvas id="rightCanvas" width="1832" height="2976"></canvas><br>

  <button id="sendBtn" disabled>Send to Telegram</button>

  <script>
    const uploadInput = document.getElementById('imageUpload');
    const sendBtn = document.getElementById('sendBtn');
    const leftCanvas = document.getElementById('leftCanvas');
    const rightCanvas = document.getElementById('rightCanvas');

    let leftImage, rightImage;

    uploadInput.addEventListener('change', function () {
      const file = this.files[0];
      if (!file) return;

      const img = new Image();
      img.onload = () => {
        const targetWidth = 3724;
        const targetHeight = 2976;
        const cropX = (img.width - targetWidth) / 2;
        const cropY = (img.height - targetHeight) / 2;

        const tempCanvas = document.createElement('canvas');
        tempCanvas.width = targetWidth;
        tempCanvas.height = targetHeight;
        const tempCtx = tempCanvas.getContext('2d');
        tempCtx.drawImage(img, cropX, cropY, targetWidth, targetHeight, 0, 0, targetWidth, targetHeight);

        const halfWidth = targetWidth / 2;

        const leftCtx = leftCanvas.getContext('2d');
        leftCtx.clearRect(0, 0, 1832, 2976);
        leftCtx.drawImage(tempCanvas, 0, 0, halfWidth, targetHeight, 0, 0, 1832, 2976);

        const rightCtx = rightCanvas.getContext('2d');
        rightCtx.clearRect(0, 0, 1832, 2976);
        rightCtx.drawImage(tempCanvas, halfWidth, 0, halfWidth, targetHeight, 0, 0, 1832, 2976);

        leftImage = leftCanvas.toDataURL('image/png');
        rightImage = rightCanvas.toDataURL('image/png');

        sendBtn.disabled = false;
      };
      img.src = URL.createObjectURL(file);
    });

    sendBtn.addEventListener('click', () => {
      if (leftImage && rightImage) {
        const payload = JSON.stringify({
          front: leftImage,
          back: rightImage
        });
        Telegram.WebApp.sendData(payload);
        Telegram.WebApp.close();
      }
    });
  </script>
</body>
</html>
